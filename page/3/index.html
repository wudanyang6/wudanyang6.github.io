<!doctype html><html lang=en dir=auto><head><meta name=generator content="Hugo 0.115.4"><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>吴丹阳的站点</title><meta name=keywords content="吴丹阳,Read,Write"><meta name=description content="世界如此之大，相逢即是缘"><meta name=author content="吴丹阳"><link rel=canonical href=https://wudanyang6.github.io/><link crossorigin=anonymous href=/assets/css/stylesheet.3613efbd0b1772781e8f49935e973cae632a7f61471c05b17be155505ccf87b5.css integrity="sha256-NhPvvQsXcngej0mTXpc8rmMqf2FHHAWxe+FVUFzPh7U=" rel="preload stylesheet" as=style><link rel=icon href="https://avatars.githubusercontent.com/u/8189540?v=4"><link rel=icon type=image/png sizes=16x16 href="https://avatars.githubusercontent.com/u/8189540?v=4"><link rel=icon type=image/png sizes=32x32 href="https://avatars.githubusercontent.com/u/8189540?v=4"><link rel=apple-touch-icon href="https://avatars.githubusercontent.com/u/8189540?v=4"><link rel=mask-icon href="https://avatars.githubusercontent.com/u/8189540?v=4"><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://wudanyang6.github.io/index.xml><link rel=alternate type=application/json href=https://wudanyang6.github.io/index.json><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="吴丹阳的站点"><meta property="og:description" content="世界如此之大，相逢即是缘"><meta property="og:type" content="website"><meta property="og:url" content="https://wudanyang6.github.io/"><meta property="og:site_name" content="吴丹阳的站点"><meta name=twitter:card content="summary"><meta name=twitter:title content="吴丹阳的站点"><meta name=twitter:description content="世界如此之大，相逢即是缘"><script type=application/ld+json>{"@context":"https://schema.org","@type":"Organization","name":"吴丹阳的站点","url":"https://wudanyang6.github.io/","description":"世界如此之大，相逢即是缘","thumbnailUrl":"https://avatars.githubusercontent.com/u/8189540?v=4","sameAs":["https://github.com/wudanyang6"]}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://wudanyang6.github.io/ accesskey=h title="Home (Alt + H)"><img src="https://avatars.githubusercontent.com/u/8189540?v=4" alt aria-label=logo height=35>Home</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://wudanyang6.github.io/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://wudanyang6.github.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://wudanyang6.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-entry><header class=entry-header><h2>软件选择</h2></header><div class=entry-content><p>最近看到很多计算机企业在制裁俄罗斯，制裁手段包括软件禁止俄罗斯使用，云服务停止等等。
网络上确实也充斥着很多公众号的推文，说俄罗斯的现在很可能就是以后的中国。不过这个以后正在到来，而且也发生了，Figma 禁止大疆使用服务。
未雨绸缪，回想一下自己常用的一些软件，以及替代方案。
phpstorm 本地软件 即使不更新也可以继续使用旧版本，但是不能保证后续不会被远程限制使用 obsidian 本地软件 软件是个本地软件，开发者看着也是中国人，如果被封，还能继续使用现有版本 苹果系统 如果真有一天苹果系统被停止服务，我们应该也可以继续使用现有版本，只不过不能使用 icloud。是在不行就迁移到深度系统 替代品：深度操作系统 icloud 替代品：坚果云，应该是我知道的国内唯一比较好用的替代方案了 chrome firefox 360 浏览器等一系列国产套壳浏览器 iTerm 系统默认终端也能用，只不过没有这个这么方便 最担心的还是苹果电脑和系统，万一哪天漂亮国发疯，全封了，那就是不死不休了。</p></div><footer class=entry-footer><span title='2022-03-13 21:43:43 +0800 +0800'>March 13, 2022</span>&nbsp;·&nbsp;23 words&nbsp;·&nbsp;吴丹阳</footer><a class=entry-link aria-label="post link to 软件选择" href=https://wudanyang6.github.io/post/others/software-choose/></a></article><article class=post-entry><header class=entry-header><h2>hugo 实现写完一键发布</h2></header><div class=entry-content><p>使用 Hugo 创建站点 首先打开 Hugo 官网 Quick start
hugo 的安装就不说了，如果这一步觉得很困难，就可以放弃了。
新建站点new hugo new site quickstart cd quickstart git init git submodule add https://github.com/theNewDynamic/gohugo-theme-ananke.git themes/ananke echo theme = \"ananke\" >> config.toml 上述做完之后，可以先别急着玩主题，咱们可以后面慢慢探索
添加内容 hugo new posts/my-first-post.md 这时，我们可以打开 posts/my-first-post.md ，在里面使用 markdown 语法写一写文字。
比如我这里 使用 hugo server 命令可以在本地预览站点效果，如下所示：
发布网站 我们使用 hugo 命令生成静态文件，将静态文件上传到托管服务器
常见的托管服务器可以使用阿里云、百度云、腾讯云等多种云平台。
不过我们这里介绍的是一个免费的服务 GitHub pages
创建 Github pages 我这里将文章、配置等元数据和网站数据分了两个仓库
元数据仓库设置成了私有，因为里面有可能有一些敏感信息 网站仓库设置为公开，开启 GitHub pages 服务 当然，你也可以设置成公开并且都使用一个仓库。
网站仓库打开 Settings 选择 Pages 选项，选择数据源分支
示例 如下图所示，我这里分支设置成了 gh-pages 分支的根目录，并且使用了一个自定义域名，而且开启了强制 https 访问。自定义域名和 https 第一次使用完全可以不理会，咱们接着往下看。...</p></div><footer class=entry-footer><span title='2022-03-12 23:17:55 +0800 +0800'>March 12, 2022</span>&nbsp;·&nbsp;194 words&nbsp;·&nbsp;吴丹阳</footer><a class=entry-link aria-label="post link to hugo 实现写完一键发布" href=https://wudanyang6.github.io/post/hugo-%E4%B8%80%E9%94%AE%E5%8F%91%E5%B8%83/></a></article><article class=post-entry><header class=entry-header><h2>树莓派 ubuntu 配置网络</h2></header><div class=entry-content><p>树莓派 ubuntu 配置网络 树莓派现在可以安装很多操作系统，其中 ubuntu 也提供了树莓派版本，因为对 ubuntu 更加熟悉，所以就往 SD 卡中烧录了 ubuntu 的 20.04 lts 64位 版本。这里有可供选择的操作系统。
简单提一嘴烧录操作系统到 SD 卡上面的方法，树莓派提供了一个傻瓜式的软件给大家使用，直接打开之后选择系统，就可以烧录了，烧录过程大概会有几分钟。
烧录完成之后，如果你按照树莓派官网的教程进行操作，肯定都行不通，因为树莓派的官方操作系统 Raspberry Pi OS 和 Ubuntu For Raspberry 上面的网络配置方式完全不一样。
安装了 ubuntu 的树莓派怎么配置网络？ 打开你烧录好的 SD 卡
找到 network-config 文件
写入如下配置：
wifis: wlan0: dhcp4: true optional: true access-points: &lt;wifi network name>: password: "&lt;wifi password>" 如果是企业网络：
wifis: wlan0: dhcp4: true optional: true access-points: &lt;wifi network name>: auth: key-management: eap method: peap identity: "wudanyang" password: "" 配置文件的格式...</p></div><footer class=entry-footer><span title='2021-04-28 10:18:04 +0800 +0800'>April 28, 2021</span>&nbsp;·&nbsp;138 words&nbsp;·&nbsp;吴丹阳</footer><a class=entry-link aria-label="post link to 树莓派 ubuntu 配置网络" href=https://wudanyang6.github.io/post/raspberry/ubuntu-network/></a></article><article class=post-entry><header class=entry-header><h2>如何调试nginx的rewrite规则?</h2></header><div class=entry-content><p>如何调试nginx的rewrite规则？ 设置 rewrite_log on;
并且将error_log 的报错等级改成 notice;
官网对 rewrite_log 的解释：
Syntax: rewrite_log on | off; Default: rewrite_log off; Context: http, server, location, if Enables or disables logging of ngx_http_rewrite_module module directives processing results into the error_log at the notice level. 可以看到，这个指令只能在 http server location if 配置指令中使用，日志等级是 notice 写入到 error_log 配置的文件中。
示例 url： /q?someparams
2021/04/22 18:21:28 [notice] 18131#0: *102982 "^/+m/question(.*)?qid=\d+(.*)?$" does not match ... ... 中间省略一些日志 2021/04/22 18:21:28 [notice] 18131#0: *102982 "^/+question/(\w+....</p></div><footer class=entry-footer><span title='2021-04-23 14:58:47 +0800 +0800'>April 23, 2021</span>&nbsp;·&nbsp;123 words&nbsp;·&nbsp;吴丹阳</footer><a class=entry-link aria-label="post link to 如何调试nginx的rewrite规则?" href=https://wudanyang6.github.io/post/nginx/how-debug-nginx-rewrite/></a></article><article class=post-entry><header class=entry-header><h2>Nginx Master 进程主流程</h2></header><div class=entry-content><p>nginx master 进程主流程 之前有说到 nginx 进程模型-整体架构，下面来看一下 nginx master 进程的主要工作
nginx 的入口 main 函数在 nginx.c 文件中
函数原型为：
int ngx_cdecl main(int argc, char *const *argv) 在这个函数中，master 做了一系列的初始化操作
最终在下面这个地方进入了主流程中：
//... if (ngx_process == NGX_PROCESS_SINGLE) { ngx_single_process_cycle(cycle); } else { ngx_master_process_cycle(cycle); } //... 因为我们主要看 master-worker 这种进程模型，所以进入 ngx_master_process_cycle
设置信号屏蔽字，防止创建子进程过程中被信号中断 // 先清空信号集 sigemptyset(&amp;set); sigaddset(&amp;set, SIGCHLD); sigaddset(&amp;set, SIGALRM); sigaddset(&amp;set, SIGIO); sigaddset(&amp;set, SIGINT); sigaddset(&amp;set, ngx_signal_value(NGX_RECONFIGURE_SIGNAL)); sigaddset(&amp;set, ngx_signal_value(NGX_REOPEN_SIGNAL)); sigaddset(&amp;set, ngx_signal_value(NGX_NOACCEPT_SIGNAL)); sigaddset(&amp;set, ngx_signal_value(NGX_TERMINATE_SIGNAL)); sigaddset(&amp;set, ngx_signal_value(NGX_SHUTDOWN_SIGNAL)); sigaddset(&amp;set, ngx_signal_value(NGX_CHANGEBIN_SIGNAL)); // 设置信号屏蔽字，将 set 中的信号设置为阻塞状态，防止创建worker 的过程中，被进来的信号打断 if (sigprocmask(SIG_BLOCK, &amp;set, NULL) == -1) { ngx_log_error(NGX_LOG_ALERT, cycle->log, ngx_errno, "sigprocmask() failed"); } // 将 set 清空 sigemptyset(&amp;set); 设置信号屏蔽字，防止在创建子进程的过程中被信号处理程序中断...</p></div><footer class=entry-footer><span title='2021-04-13 21:07:19 +0800 +0800'>April 13, 2021</span>&nbsp;·&nbsp;313 words&nbsp;·&nbsp;吴丹阳</footer><a class=entry-link aria-label="post link to Nginx Master 进程主流程" href=https://wudanyang6.github.io/post/nginx/nginx-master/></a></article><footer class=page-footer><nav class=pagination><a class=prev href=https://wudanyang6.github.io/page/2/>«&nbsp;Prev&nbsp;</a>
<a class=next href=https://wudanyang6.github.io/page/4/>Next&nbsp;&nbsp;»</a></nav></footer></main><footer class=footer><span>&copy; 2023 <a href=https://wudanyang6.github.io/>吴丹阳的站点</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>